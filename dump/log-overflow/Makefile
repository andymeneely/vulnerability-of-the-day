# Here, we won't actually run this exploit, since we don't want to crash 
# this computer.
#
# The idea is to fill up the hard drive with a log file because it's 
# unrestricted. If you use System.out.println, this often gets redirected
# to log files, so it's still an issue.
exploit: compile
	java -cp "log4j-1.2.16.jar:." LoggedALot log4j.properties

safer: compile
	java -cp "log4j-1.2.16.jar:." LoggedALot log4j-better.properties

compile:
	javac -cp "log4j-1.2.16.jar:." LoggedALot.java

diff:
	diff -u log4j.properties log4j-better.properties
